<p>Subsequent to <a href="http://phoe6.livejournal.com/46112.html">Lisp Notes 1</a>, these are my notes for the Chapter 2 "Lather, Rinse, Repeat: A Tour of the REPL" in the <a href="http://www.gigamonkeys.com/book/index.html">Practical Common Lisp Book</a></p>
<ul>
<li>
<p>Lisp provides an interactive 
        <span class="wikipedia_tooltip"><a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" target="_blank">read-eval-print loop</a>
            <span class="wikipedia_summary">
            <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" target="_blank" class="wikipedia_wordmark">
              <img src="https://upload.wikimedia.org/wikipedia/commons/b/bb/Wikipedia_wordmark.svg">
              <span class="wikipedia_icon"></span>
            </a>
            A read–eval–print loop (REPL), also termed an interactive toplevel or language shell, is a simple interactive computer programming environment that takes single user inputs, executes them, and returns the result to the user; a program written in a REPL environment is executed piecewise. The term usually refers to programming interfaces similar to the classic Lisp machine interactive environment or to Common Lisp with the SLIME development environment. Common examples include command-line shells and similar environments for programming languages, and the technique is very characteristic of scripting languages, even though their characteristics can vary greatly.
            </span>
        </span>.</p>
</li>
<li>
<p>Lisp can be used in Automated Theorem proving, planning and scheduling and computer vision. Large scale battlefield simulation, automated planning and natural language interfaces.</p>
</li>
<li>
<p>Help in EMACS, Press CTRL Key, type h, release CTRL key and press t. This key combination called key-chord is represented like this. C-t h</p>
</li>
<li>
<p>Info system is available by <code>C-h i</code></p>
</li>
<li>
<p><code>C-h ?</code> brings complete list.</p>
</li>
<li>
<p><code>C-h k</code> lets us type any key combination and lets us know the command which will be invoked.</p>
</li>
<li>
<p><code>C-h w</code> lets us enter the command and returns the corresponding key combination.</p>
</li>
</ul>
<!--more-->

<p>Crucial bit of emacs terminology is a Buffer. While working with EMACS, each file you edit will be represented by a different buffer, only one of which is current in any way.</p>
<p><strong>Buffers:</strong></p>
<ul>
<li><code>C-x b</code> is command to switch to buffer.</li>
</ul>
<p>Some key combinations may be available for switches to certain buffer.</p>
<p>For e.g. to switch to lisp source file.</p>
<ul>
<li><code>C-c C-z</code> switch to buffer where you interact with lisp (REPL)</li>
</ul>
<div class="code"><pre class="code literal-block">CL-USER&gt;
</pre></div>

<p>This is the lisp command prompt. Lisp reads the lines of lisp expressions evaluates them according to the rules of lisp and prints the result.</p>
<p>The endless cycle of reading, evaluating and printing is why it is called read-eval-print loop or REPL for short.</p>
<p>It's also referred to as top level, top level listener, lisp listener.</p>
<p>From REPL we can:
- Define or redefine variables, functions, classes and methods.
- Evaluate any lisp expression.
- Load files containing lisp source code or compiled code.
- Compile other files or individual functions.
- Enter Debugger.
- Step through the code.
- Inspect the state of the individual lisp command.</p>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;10</span>
<span class="mi">10</span>
</pre></div>

<p>R - Reads "10" and converts to lisp object "10"
E - Evaluates to itself.
P - Prints "10"</p>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="mi">5</span>
</pre></div>

<p><code>+</code> symbol is converted to <code>+</code> function which takes 2 and 3 as parameters.</p>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;</span><span class="s">&quot;hello,world&quot;</span>
<span class="s">&quot;hello,world&quot;</span>
</pre></div>

<p>That was a "hello,world" value.</p>
<p><strong>Format function:</strong></p>
<p>Format takes a variable number of arguments, but the only two required to send the output a string.</p>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;</span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span><span class="p">)</span>
<span class="s">&quot;hello,world&quot;</span>
<span class="no">NIL</span>
</pre></div>

<ul>
<li><code>t</code> sends the output to stdout.</li>
<li><code>NIL</code> is the return value of the function.</li>
</ul>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;</span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello-world</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;hello,world&quot;</span><span class="p">))</span>
<span class="nv">HELLO-WORLD</span>
<span class="nv">CL-USER&gt;</span><span class="p">(</span><span class="nv">hello-world</span><span class="p">)</span>
<span class="nv">hello,world</span>
<span class="no">NIL</span>
</pre></div>

<p><strong>Saving the file:</strong></p>
<ul>
<li>
<p><code>C-x C-f</code> type the file name with extension as .lisp or .cl</p>
</li>
<li>
<p>Inside the 
        <span class="wikipedia_tooltip"><a href="https://en.wikipedia.org/wiki/SLIME" target="_blank">SLIME</a>
            <span class="wikipedia_summary">
            <a href="https://en.wikipedia.org/wiki/SLIME" target="_blank" class="wikipedia_wordmark">
              <img src="https://upload.wikimedia.org/wikipedia/commons/b/bb/Wikipedia_wordmark.svg">
              <span class="wikipedia_icon"></span>
            </a>
            SLIME, the Superior Lisp Interaction Mode for Emacs, is an Emacs mode for developing Common Lisp applications. SLIME originates in an Emacs mode called SLIM written by Eric Marsden. It is developed as an open-source public domain software project by Luke Gorrie and Helmut Eller. Over 100 Lisp developers have contributed code to SLIME since the project was started in 2003.
            </span>
        </span> mode, <code>C-c C-q</code> invokes the command <code>slime-close-parens-at-point</code> which will insert as many closing parenthesis as necessary to match all the open parenthesis.</p>
</li>
<li>
<p>To get the source file to lisp environment:</p>
<ul>
<li><code>C-c C-c</code> (slime-compile-defun)</li>
</ul>
<p>Or switch the REPL Buffer:
 * <code>C-c C-z</code> (directly from SLIME to REPL)</p>
<p>Or
 * <code>C-x b</code> and all the buffer.</p>
</li>
</ul>
<p>Make some changes and type again.</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello-world</span><span class="p">()</span>
<span class="w">        </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;Hello,World!&quot;</span><span class="p">))</span>
</pre></div>

<ul>
<li><code>C-c C-c</code></li>
</ul>
<p>Or</p>
<ul>
<li><code>C-c C-z</code></li>
</ul>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="nv">hello,world</span><span class="p">)</span>
<span class="nv">Hello,World!</span>
<span class="no">NIL</span>
</pre></div>

<p>Save the changes to hello.lisp by typing <code>C-x C-s</code> in EMACS which invokes (save-buffer)</p>
<p>Exit SLIME, which is in REPL type ',' - a comma.</p>
<p>Invoke again:</p>
<div class="code"><pre class="code literal-block">M-x slime
CL-USER&gt;(hello-world)
</pre></div>

<p>Will not get invoked because REPL is not aware and it will put you in the debugger mode. Pressing 'q' will exit the debugger.</p>
<div class="code"><pre class="code literal-block"><span class="nv">CL-USER&gt;</span><span class="p">(</span><span class="nv">hello-world</span><span class="p">)</span>
<span class="c1">;Evaluation aborted</span>
<span class="nv">CL-USER&gt;</span>
</pre></div>

<p><strong>Letting the REPL Know:</strong></p>
<p>1) <code>C-x b hello.lisp</code> and then compiling using <code>C-c C-c</code></p>
<p>2) Load the whole file:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="nb">load</span><span class="w"> </span><span class="s">&quot;hello.lisp&quot;</span><span class="p">)</span>
<span class="c1">; Loading file</span>
<span class="no">T</span>
</pre></div>

<p>T- means loaded correctly.

        <span class="wikipedia_tooltip"><a href="https://en.wikipedia.org/wiki/Formal_Approaches_to_Slavic_Linguistics" target="_blank">FASL</a>
            <span class="wikipedia_summary">
            <a href="https://en.wikipedia.org/wiki/Formal_Approaches_to_Slavic_Linguistics" target="_blank" class="wikipedia_wordmark">
              <img src="https://upload.wikimedia.org/wikipedia/commons/b/bb/Wikipedia_wordmark.svg">
              <span class="wikipedia_icon"></span>
            </a>
            The Annual Workshop on Formal Approaches to Slavic Linguistics (abbreviated FASL, pronounced [ˈfæsəl]) is one of the most reputable international academic conferences in the field of formal Slavic linguistics. Each meeting is hosted by a United States or Canada university in May. From the beginning through FASL 27, the proceedings were published by Michigan Slavic Publications of University of Michigan in Ann Arbor, MI. From FASL 28 on, the proceedings are published as an extra issue of Journal of Slavic Linguistics.
            </span>
        </span> - Fast Load file</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="nb">load</span><span class="p">(</span><span class="nb">compile-file</span><span class="p">(</span><span class="s">&quot;hello.lisp&quot;</span><span class="p">))</span>
</pre></div>

<p>From the SLIME environment itself, the following features are available:</p>
<ul>
<li><code>C-c C-l</code> (slime-load-file)</li>
<li><code>C-c C-k</code> to compile and load the file represented by the current buffer.</li>
</ul>
<hr>
<p>using emacs like it shud be...</p>
<p>http://steve.yegge.googlepages.com/effective-emacs</p>
<p>[kirubakaran]</p>
<p><em>Anonymous</em></p>